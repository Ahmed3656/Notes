
#### **How to Create a Table with Millions of Rows**
When you need to populate a table with a large amount of data (e.g., millions of rows) in PostgreSQL, you can use the `generate_series()` function.
This is much faster and more efficient than inserting rows manually because PostgreSQL generates data directly **in memory** before committing it to disk.

- **Using `generate_series()`**
	The `generate_series(start, stop, step)` function generates a set of numbers (or timestamps) in a sequence.
	- **start** → First value in the series.
	- **stop** → Last value in the series.
	- **step** _(optional)_ → Increment between values (defaults to `1`).
	Example:
	```sql
	SELECT generate_series(1, 5);
	```

	**Output**
	```sql
	 generate_series
	 -----------------
			 1
			 2
			 3 
			 4
			 5
	```

- **Creating a Table and Populating Millions of Rows**
	Example A: Single Column Table
	```sql
	CREATE TABLE big_numbers (
	    id BIGINT PRIMARY KEY
	);
	
	INSERT INTO big_numbers (id)
	SELECT generate_series(1, 1000000);
	```
	Example B: Multi-Column Table with Different Values
	```sql
	CREATE TABLE users (
	    id BIGSERIAL PRIMARY KEY,
	    name TEXT,
	    age INT,
	    created_at TIMESTAMP
	);
	
	INSERT INTO users (name, age, created_at)
	SELECT
	    'User_' || gs::text,                     -- Generate unique names
	    (RANDOM() * 60 + 18)::INT,               -- Random age between 18 and 78
	    NOW() - (RANDOM() * INTERVAL '365 days') -- Random timestamp within past year
	FROM generate_series(1, 1000000) AS gs;
	```

- **Linking Data to an Existing Table**
	If you already have a `users` table and want to create a **related table** with **foreign keys** referencing existing users:
	```sql
	CREATE TABLE user_activity (
	    id BIGSERIAL PRIMARY KEY,
	    user_id BIGINT REFERENCES users(id),
	    activity TEXT,
	    created_at TIMESTAMP DEFAULT NOW()
	);
	
	INSERT INTO user_activity (user_id, activity, created_at)
	SELECT
	    (RANDOM() * (SELECT MAX(id) FROM users))::BIGINT,  -- Picks random existing users
	    'Login',
	    NOW() - (RANDOM() * INTERVAL '30 days')
	FROM generate_series(1, 200000000);
	```

---

#### **How to Work with a Billion-Row Table**
